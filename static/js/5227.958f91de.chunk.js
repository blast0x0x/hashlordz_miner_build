"use strict";(self.webpackChunkwaifu=self.webpackChunkwaifu||[]).push([[5227],{8946:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(6911),i=n(8389),s=(n(137),n(3269)),r=n(6039),l=n(4251),d=n(1890),o=n(9455),u=n(2291),p=n(9216),c=n(7255),y=n(6453);n(6147);const m=2741,x=11124,f="0x7DF0d1623b3Ac433Ee5121ccb6753D9E61818D3a",h="",b="0xd3fCdE8E683dba31BB0A9D82C8160c74B75e7351",g="",v="115792089237316195423570985008687907853269984665640564039457584007913129639935",w=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[],"name":"NotMinter","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"amtBurned","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"minter","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_minter","type":"address"}],"name":"setMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),N=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"AlreadyAtMaxFacility","type":"error"},{"inputs":[],"name":"AlreadyPurchasedInitialFactory","type":"error"},{"inputs":[],"name":"CantBuyNewFacilityYet","type":"error"},{"inputs":[],"name":"CantModifyStarterFacility","type":"error"},{"inputs":[],"name":"CantModifyStarterMiner","type":"error"},{"inputs":[],"name":"IncorrectValue","type":"error"},{"inputs":[],"name":"IndexOutOfBounds","type":"error"},{"inputs":[],"name":"InvalidFacilityIndex","type":"error"},{"inputs":[],"name":"InvalidFee","type":"error"},{"inputs":[],"name":"InvalidMinerCoordinates","type":"error"},{"inputs":[],"name":"InvalidMinerIndex","type":"error"},{"inputs":[],"name":"InvalidReferrer","type":"error"},{"inputs":[],"name":"MinerFullUpdated","type":"error"},{"inputs":[],"name":"MinerInMarket","type":"error"},{"inputs":[],"name":"MinerInMining","type":"error"},{"inputs":[],"name":"MinerInStore","type":"error"},{"inputs":[],"name":"MinerNotInProduction","type":"error"},{"inputs":[],"name":"MiningHasntStarted","type":"error"},{"inputs":[],"name":"NeedToInitializeFacility","type":"error"},{"inputs":[],"name":"NewFacilityNotInProduction","type":"error"},{"inputs":[],"name":"NoRewardsPending","type":"error"},{"inputs":[],"name":"NonExistentFacility","type":"error"},{"inputs":[],"name":"NonExistentMiner","type":"error"},{"inputs":[],"name":"NotListedMinerOnMarketplace","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"PlayerDoesNotOwnMiner","type":"error"},{"inputs":[],"name":"TooPoor","type":"error"},{"inputs":[],"name":"WithdrawFailed","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"}],"name":"FacilityBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCost","type":"uint256"}],"name":"FacilityCostChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"indexed":false,"internalType":"bool","name":"inProduction","type":"bool"}],"name":"FacilityProductionToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"}],"name":"InitialFacilityPurchased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"ListedForSale","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"x","type":"uint256"}],"name":"MinerBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"}],"name":"MinerBoughtOnMarketplace","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newCost","type":"uint256"}],"name":"MinerCostChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"bool","name":"inProduction","type":"bool"}],"name":"MinerProductionToggled","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"secondHandPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"x","type":"uint256"}],"name":"MinerSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"level","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"minerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"x","type":"uint256"}],"name":"MinerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"startBlock","type":"uint256"}],"name":"MiningStarted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"bool","name":"inProduction","type":"bool"}],"name":"NewFacilityAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"minerIndex","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"hashRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"cost","type":"uint256"},{"indexed":false,"internalType":"bool","name":"inProduction","type":"bool"}],"name":"NewMinerAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":false,"internalType":"uint256","name":"playerHashrate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"playerPendingRewards","type":"uint256"}],"name":"PlayerHashrateDecreased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":false,"internalType":"uint256","name":"playerHashrate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"playerPendingRewards","type":"uint256"}],"name":"PlayerHashrateIncreased","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":false,"internalType":"uint256","name":"rewards","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"x","type":"uint256"}],"name":"StartedMining","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"player","type":"address"},{"indexed":true,"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"StoppedMining","type":"event"},{"inputs":[],"name":"HALVING_INTERVAL","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"INITIAL_HASHCOIN_PER_BLOCK","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REWARDS_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"STARTER_FACILITY_INDEX","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"STARTER_MINER_INDEX","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"maxMiners","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"inProduction","type":"bool"}],"name":"addFacility","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"hashrate","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"inProduction","type":"bool"}],"name":"addMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"blocksUntilNextHalving","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"burnPct","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerIndex","type":"uint256"}],"name":"buyMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"buyMinerFromMarket","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"buyNewFacility","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"cancelListForSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"internalType":"uint256","name":"newCost","type":"uint256"}],"name":"changeFacilityCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"uint256","name":"newCost","type":"uint256"}],"name":"changeMinerCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewards","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cooldown","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cumulativeHashcoinPerHash","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"facilities","outputs":[{"internalType":"uint256","name":"maxMiners","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"inProduction","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"facilityCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEthPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getHashcoinPerBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMinersOnMarketplace","outputs":[{"components":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"x","type":"uint256"},{"internalType":"uint256","name":"hashrate","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"isListedSell","type":"bool"},{"internalType":"uint256","name":"sellPrice","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"inProduction","type":"bool"}],"internalType":"struct Miner[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"uint256","name":"startIndex","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getPlayerMinersPaginated","outputs":[{"components":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"x","type":"uint256"},{"internalType":"uint256","name":"hashrate","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"isListedSell","type":"bool"},{"internalType":"uint256","name":"sellPrice","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"inProduction","type":"bool"}],"internalType":"struct Miner[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"referrer","type":"address"}],"name":"getReferrals","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ethAmount","type":"uint256"}],"name":"getTokenAmountFromEthAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"halvingOvershoot","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hashcoin","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hashtoshi","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialFacilityPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"initializedStarterFacility","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastFacilityUpgradeTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lastRewardBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"}],"name":"listForSale","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"lordztoshi","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"marketFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxPythPriceAge","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"miners","outputs":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"x","type":"uint256"},{"internalType":"uint256","name":"hashrate","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"isListedSell","type":"bool"},{"internalType":"uint256","name":"sellPrice","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"inProduction","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minersListedOnMarketplace","outputs":[{"internalType":"uint256","name":"_spacer","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"miningHasStarted","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"ownerToFacility","outputs":[{"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"internalType":"uint256","name":"maxMiners","type":"uint256"},{"internalType":"uint256","name":"currMiners","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"}],"name":"pendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"playerHashcoinDebt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"}],"name":"playerHashcoinPerBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"playerHashrate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"playerMinersId","outputs":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"x","type":"uint256"},{"internalType":"uint256","name":"hashrate","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"cost","type":"uint256"},{"internalType":"bool","name":"isListedSell","type":"bool"},{"internalType":"uint256","name":"sellPrice","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"bool","name":"inProduction","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"playerMinersOwned","outputs":[{"internalType":"uint256","name":"_spacer","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"playerOccupiedCoords","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"playerPendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"printoshi","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"referrer","type":"address"}],"name":"purchaseInitialFacility","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"pythNetwork","outputs":[{"internalType":"contract IPyth","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pythPriceId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referralBonusPaid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"referralFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referrals","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"referredUsers","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"removeMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"burn","type":"uint256"}],"name":"setBurnPct","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cooldown","type":"uint256"}],"name":"setCooldown","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_hashcoin","type":"address"}],"name":"setHashcoin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_hashtoshi","type":"address"}],"name":"setHashtoshi","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_initialPrice","type":"uint256"}],"name":"setInitialFacilityPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_lordztoshi","type":"address"}],"name":"setLordztoshi","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_weth","type":"address"},{"internalType":"address","name":"_pool","type":"address"}],"name":"setPoolInfo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_printoshi","type":"address"}],"name":"setPrintoshi","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_pythAddress","type":"address"},{"internalType":"uint256","name":"_maxPythPriceAge","type":"uint256"},{"internalType":"bytes32","name":"_priceId","type":"bytes32"}],"name":"setPyth","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"fee","type":"uint256"}],"name":"setReferralFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"},{"internalType":"uint256","name":"x","type":"uint256"}],"name":"startMining","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"stopMining","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"}],"name":"timeUntilNextFacilityUpgrade","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"facilityIndex","type":"uint256"},{"internalType":"bool","name":"inProduction","type":"bool"}],"name":"toggleFacilityProduction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerIndex","type":"uint256"},{"internalType":"bool","name":"inProduction","type":"bool"}],"name":"toggleMinerProduction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"totalHashrate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uniqueMinerCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"minerId","type":"uint256"}],"name":"updateMiner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"wethAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amt","type":"uint256"}],"name":"withdrawHashcoin","outputs":[],"stateMutability":"nonpayable","type":"function"}]');var T=n(5702),j=n(1931),M=(n(9555),n(6663));function C(){const e=(0,l.i)(),{isConnected:t,address:n}=(0,d.F)(),[i,r]=(0,a.useState)(""),{data:o,refetch:p}=(0,u.Q)({address:e===x?b:g,abi:N,functionName:"getReferrals",args:[t?n:c.Xd],chainId:e}),{data:m,refetch:f}=(0,u.Q)({address:e===x?b:g,abi:N,functionName:"referralBonusPaid",args:[t?n:c.Xd],chainId:e});console.log("eagle referredUsers = ",m),(0,a.useEffect)((()=>{t&&n&&r(`${window.location.origin}?ref=${n}`)}),[n]);return(0,M.jsx)("div",{className:"p-8 text-white",children:(0,M.jsxs)("div",{className:"max-w-md mx-auto  font-mono",children:[(0,M.jsx)("h2",{className:"text-center text-lg font-bold border-b border-white pb-2 mb-4",children:"REFER A FRIEND"}),(0,M.jsxs)("p",{className:"text-center text-sm mb-4",children:["SHARE YOUR REFERRAL LINK WITH FRIENDS AND ",(0,M.jsx)("br",{}),"EARN A ",(0,M.jsx)("span",{className:"text-yellow-400",children:"2.5%"})," BONUS OF WHATEVER HASHCOIN THEY MINE!"]}),(0,M.jsxs)("div",{className:"flex justify-between items-center bg-[#122533] p-4 rounded mb-4",children:[(0,M.jsxs)("div",{className:"text-center",children:[(0,M.jsx)("p",{className:"text-sm text-gray-400",children:"TOTAL REFERRALS"}),(0,M.jsx)("p",{className:"text-xl font-bold text-yellow-400",children:o?o.length:0})]}),(0,M.jsxs)("div",{className:"text-center",children:[(0,M.jsx)("p",{className:"text-sm text-gray-400",children:"TOTAL BIG EARNED"}),(0,M.jsxs)("p",{className:"text-xl font-bold text-yellow-400",children:[m?parseFloat(y.ck(m)).toFixed(2):0," $BIG"]})]})]}),(0,M.jsxs)("div",{className:"bg-[#122533] p-3 rounded flex items-center justify-between mb-4",children:[(0,M.jsx)("span",{className:"text-xs break-all",children:i}),(0,M.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i),s.Ay.success("Referral link copied!")},className:"bg-yellow-400 text-black text-xs px-3 py-1 ml-2 rounded hover:bg-yellow-300 font-bold",children:"COPY"})]}),(0,M.jsx)("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 font-bold w-full py-1 text-[#78350F] text-[18px] px-6 rounded-md",children:"CLOSE"})]})})}n.p;n.p;const I=n.p+"static/media/leaf.19825c5e24c7800c63cd.png",S=n.p+"static/media/steel.00f9115b95f31d4961e9.png",F=n.p+"static/media/diamond.7f288ffb68763763c326.png";var A=n(6749);function k(){var e,t,n,i,T;const[j,C]=(0,a.useState)(),[k,P]=(0,a.useState)(-1),[E,R]=(0,a.useState)(-1),[B,L]=(0,a.useState)(!1),[H,O]=(0,a.useState)(!1),[U,$]=(0,a.useState)(!1),[D,Q]=(0,a.useState)(!1),[X,_]=(0,a.useState)(!1),[Y,z]=(0,a.useState)(!1),{data:V,writeContractAsync:G}=(0,r.x)(),{openConnectModal:q}=(0,p.Vx)(),{disconnect:W}=(0,A.u)(),Z=(0,l.i)(),{isConnected:K,address:J}=(0,d.F)(),{data:ee,refetch:te}=(0,o.A)({address:J}),{data:ne,refetch:ae}=(0,u.Q)({address:Z===x?f:h,abi:w,functionName:"balanceOf",args:[K?J:c.Xd],chainId:Z}),{data:ie,refetch:se}=(0,u.Q)({address:Z===x?f:h,abi:w,functionName:"allowance",args:[K?J:c.Xd,Z===x?b:g],chainId:Z}),{data:re,refetch:le}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getPlayerMinersPaginated",args:[K?J:c.Xd,0,K?100:0],chainId:Z}),{data:de,refetch:oe}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"ownerToFacility",args:[K?J:c.Xd],chainId:Z}),{data:ue,refetch:pe}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["25000000000"],chainId:Z}),{data:ce,refetch:ye}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["100000000000"],chainId:Z}),{data:me,refetch:xe}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["2500000000"],chainId:Z}),{data:fe,refetch:he}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["2500000000"],chainId:Z}),{data:be,refetch:ge}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["250000000000"],chainId:Z}),{data:ve,refetch:we}=(0,u.Q)({address:Z===x?b:g,abi:N,functionName:"timeUntilNextFacilityUpgrade",args:[K?J:c.Xd],chainId:Z}),Ne=re&&(null===re||void 0===re?void 0:re.length)>0?re.filter((e=>100!==Number(e.x))):[],Te=re&&(null===re||void 0===re?void 0:re.length)>0?re.filter((e=>100===Number(e.x))):[];return(0,M.jsxs)("div",{className:"col-span-2 rounded-b-lg space-y-6 p-4 bg-[#1B2531]",children:[(0,M.jsxs)("div",{className:"flex justify-between",children:[(0,M.jsxs)("div",{className:"space-y-2 w-1/2 text-xl",children:[(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",children:["ID: #",null!==(e=null===j||void 0===j?void 0:j.id.toString())&&void 0!==e?e:"-"]}),(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",children:["Level: ",null!==(t=null===j||void 0===j?void 0:j.level.toString())&&void 0!==t?t:"-"]}),(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",onClick:()=>console.log(j),children:["Power: ",null!==(n=null===j||void 0===j?void 0:j.hashrate.toString())&&void 0!==n?n:"-"]})]}),null!==j&&void 0!==j&&j.id.toString()?(0,M.jsx)("div",{className:"bg-black w-1/2 rounded-lg border border-slate-600 p-2 aspect-square max-w-28 max-h-28",children:(0,M.jsxs)("div",{className:"relative w-full h-full",children:[(0,M.jsxs)("div",{className:"absolute top-1 left-1 text-xs text-yellow-400 font-bold",children:["#",null!==(i=null===j||void 0===j?void 0:j.id.toString())&&void 0!==i?i:"\u2014"]}),(0,M.jsxs)("div",{className:"absolute top-1 right-1 text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded",children:["Lv ",null!==(T=null===j||void 0===j?void 0:j.level.toString())&&void 0!==T?T:"\u2014"]}),(0,M.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,M.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,M.jsx)("img",{src:"1"===(null===j||void 0===j?void 0:j.minerIndex.toString())?I:"2"===(null===j||void 0===j?void 0:j.minerIndex.toString())?S:F,alt:"miner"})})})]})}):(0,M.jsx)(M.Fragment,{})]}),(0,M.jsx)("div",{className:"border-t border-slate-700/50"}),(0,M.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-6 h-[400px] overflow-y-auto p-3",children:[null,null,null,null,null,null,null].map(((e,t)=>(0,M.jsx)("div",{onClick:e=>{P(t),de&&t<Number(de[1])?Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString())))?C(Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString())))):z(!0):s.Ay.error("Please upgrade space to extand!")},className:`relative aspect-square flex items-center justify-center bg-black rounded-lg  cursor-pointer transition-all ${Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString())))?"border-slate-600 border-1":"border-slate-700/50 border-1"} ${t===k?"border-yellow-400 shadow-lg shadow-yellow-400/20 border-4":"border-white border-2"} ${de&&t<Number(de[1])?"":"opacity-25"}`,children:Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString())))?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"absolute top-1 left-1 text-xs text-white font-bold",children:["#",Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).id.toString()]}),(0,M.jsxs)("div",{className:"absolute top-1 right-1 text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded",children:["Lv ",Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).level.toString()]}),(0,M.jsx)("div",{className:"p-2 h-full",children:(0,M.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,M.jsx)("img",{src:"1"===Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).minerIndex.toString()?I:"2"===Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).minerIndex.toString()?S:F,alt:"miner"})})}),(0,M.jsx)("button",{className:"absolute bottom-1 mx-auto text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded h-6 w-32",onClick:e=>{e.stopPropagation(),P(t),(async e=>{$(!0),K&&J?Z!==x&&Z!==m?(s.Ay.error("Please switch to the correct network."),$(!1)):!ee||parseFloat(y.ck(ee.value))<1e-4?(s.Ay.error("Insufficient gas fee."),$(!1)):await G({address:Z===x?b:g,abi:N,functionName:"stopMining",args:[e],value:"0"}).then((()=>{setTimeout((async()=>{$(!1),_(!1),await le(),await oe()}),3e3)})).catch((e=>{$(!1)})):(s.Ay.error("Please connect your wallet first."),$(!1))})(Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).id.toString())},children:""+(U?"Stoping...":"Stop Mining")}),(0,M.jsx)("button",{className:"absolute bottom-8 mx-auto text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded h-6 w-32",onClick:async e=>{e.stopPropagation(),P(t),(async e=>{if(O(!0),!K||!J)return s.Ay.error("Please connect your wallet first."),void O(!1);if(Z!==x&&Z!==m)return s.Ay.error("Please switch to the correct network."),void O(!1);if("5"===Ne.find((t=>t.id.toString()===e.toString())).level.toString())return s.Ay.error("Miner is already at max level."),void O(!1);if(Number(ve)>0)return s.Ay.error(`Please wait cooldown ${ve} seconds`),void O(!1);if(!ee||parseFloat(y.ck(ee.value))<1e-4)return s.Ay.error("Insufficient gas fee."),void O(!1);const t="3"===e?y.ck(be):"2"===e?y.ck(fe):y.ck(me);if(!t||parseFloat(y.ck(ne))<parseFloat(t))return s.Ay.error("Insufficient token amount."),void O(!1);(!t||parseFloat(y.ck(ie))<parseFloat(t))&&await G({address:Z===x?f:h,abi:N,functionName:"approve",args:[Z===x?b:g,v],value:"0"}).then((()=>{})).catch((e=>{O(!1)})),await G({address:Z===x?b:g,abi:N,functionName:"updateMiner",args:[e],value:"0"}).then((()=>{setTimeout((async()=>{O(!1),_(!1),await le(),await oe()}),3e3)})).catch((e=>{O(!1)}))})(Ne.find((e=>parseInt(e.x.toString())===parseInt(t.toString()))).id.toString())},children:""+(H?"Updating...":"Update Level")})]}):(0,M.jsx)("h2",{className:"text-slate-600 pb-[7px] lg:pb-0 h-fit lg:text-6xl mb-0 text-[26px] font-black",children:"+"})},t)))}),(0,M.jsx)("button",{className:"text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded h-12 w-32",onClick:()=>_(!0),children:"Upgrade Space"}),X&&(0,M.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,M.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-lg w-[90%] max-w-md text-center relative border-2 border-solid border-[#F9A82C]",children:[(0,M.jsx)("h2",{className:"text-[25px] font-bold mb-2 text-white",children:"UPGRADE SPACE"}),(0,M.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Upgrade Space to setup more minor!"}),(0,M.jsx)("img",{src:"/Vector.svg",alt:"Igloo",className:"mx-auto my-4 w-50 h-auto"}),(0,M.jsx)("p",{className:"text-left text-[#F9A82C] font-medium mb-2",children:"Upgrade Your Space"}),(0,M.jsxs)("div",{className:"bg-[#2B2B2B] p-4 rounded-md text-left text-sm",children:[(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Space Capacity:"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`${Number(de[1])} Miners -> ${Number(de[1])+2} Miners`})]}),(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Available Miners"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`Leaf ${Number(de[1])>=3?", Steel":""} ${Number(de[1])>=5?", Diamond":""} Miners`})]}),(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Price"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:""+(3===Number(de[1])?`${ue?y.ck(ue):"--"} $Hash`:`${ce?y.ck(ce):"--"} $Hash`)})]})]}),(0,M.jsxs)("div",{className:"flex justify-between mt-6 gap-4",children:[(0,M.jsx)("button",{onClick:()=>_(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-md",children:"CANCEL"}),(0,M.jsx)("button",{onClick:async()=>{if(L(!0),!K||!J)return s.Ay.error("Please connect your wallet first."),void L(!1);if(Z!==x&&Z!==m)return s.Ay.error("Please switch to the correct network."),void L(!1);if(Number(ve)>0)return s.Ay.error(`Please wait cooldown ${ve} seconds`),void L(!1);if(!ee||parseFloat(y.ck(ee.value))<1e-4)return s.Ay.error("Insufficient gas fee."),void L(!1);const e=3===Number(de[1])?y.ck(ue):y.ck(ce);if(!e||parseFloat(y.ck(ne))<parseFloat(e))return s.Ay.error("Insufficient token amount."),void L(!1);(!e||parseFloat(y.ck(ie))<parseFloat(e))&&await G({address:Z===x?f:h,abi:N,functionName:"approve",args:[Z===x?b:g,v],value:"0"}).then((()=>{})).catch((e=>{L(!1)})),await G({address:Z===x?b:g,abi:N,functionName:"buyNewFacility",args:[],value:"0"}).then((()=>{setTimeout((async()=>{L(!1),_(!1),await le(),await oe()}),3e3)})).catch((e=>{L(!1)}))},className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:B?"Upgrading...":"Upgrade Space"})]})]})}),Y&&(0,M.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,M.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-lg w-[90%] max-w-md text-center relative border-2 border-solid border-[#F9A82C]",children:[(0,M.jsx)("h2",{className:"text-[25px] font-bold mb-2 text-white",children:"Start Mining"}),(0,M.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Select miner to start mining!"}),(0,M.jsx)("p",{className:"text-left text-[#F9A82C] font-medium mb-2",children:"Available miners"}),(0,M.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-6 h-[300px] overflow-y-auto p-3",children:Te.map(((e,t)=>(0,M.jsxs)("div",{onClick:e=>{R(t)},className:"relative aspect-square flex items-center justify-center bg-black rounded-lg  cursor-pointer transition-all "+(t===E?"border-yellow-400 shadow-lg shadow-yellow-400/20 border-4":"border-white border-2"),children:[(0,M.jsxs)("div",{className:"absolute top-1 left-1 text-xs text-white font-bold",children:["#",e.id.toString()]}),(0,M.jsxs)("div",{className:"absolute top-1 right-1 text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded",children:["Lv ",e.level.toString()]}),(0,M.jsx)("div",{className:"p-2 h-full",children:(0,M.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,M.jsx)("img",{src:"1"===e.minerIndex.toString()?I:"2"===e.minerIndex.toString()?S:F,alt:"miner"})})})]},t)))}),(0,M.jsxs)("div",{className:"flex justify-between mt-6 gap-4",children:[(0,M.jsx)("button",{onClick:()=>{z(!1)},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-md",children:"CANCEL"}),(0,M.jsx)("button",{onClick:async()=>{var e,t;return Q(!0),K&&J?Z!==x&&Z!==m?(s.Ay.error("Please switch to the correct network."),void Q(!1)):!ee||parseFloat(y.ck(ee.value))<1e-4?(s.Ay.error("Insufficient gas fee."),void Q(!1)):null!==(e=Te[E])&&void 0!==e&&e.id.toString()?void await G({address:Z===x?b:g,abi:N,functionName:"startMining",args:[null===(t=Te[E])||void 0===t?void 0:t.id.toString(),k],value:"0"}).then((()=>{setTimeout((async()=>{Q(!1),z(!1),await le(),await oe()}),3e3)})).catch((e=>{Q(!1),console.log(e)})):(s.Ay.error("Please select or buy a miner to start mining."),void Q(!1)):(s.Ay.error("Please connect your wallet first."),void Q(!1))},className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:D?"Starting...":"Start Mining"})]})]})})]})}function P(){var e,t,n,i,T;const[j,C]=(0,a.useState)(),[k,P]=(0,a.useState)(-1),[E,R]=(0,a.useState)(0),[B,L]=(0,a.useState)(!1),[H,O]=(0,a.useState)(!1),[U,$]=(0,a.useState)(!1),[D,Q]=(0,a.useState)(!1),[X,_]=(0,a.useState)(!1),{data:Y,writeContractAsync:z}=(0,r.x)(),{openConnectModal:V}=(0,p.Vx)(),{disconnect:G}=(0,A.u)(),q=(0,l.i)(),{isConnected:W,address:Z}=(0,d.F)(),{data:K,refetch:J}=(0,o.A)({address:Z}),{data:ee,refetch:te}=(0,u.Q)({address:q===x?f:h,abi:w,functionName:"balanceOf",args:[W?Z:c.Xd],chainId:q}),{data:ne,refetch:ae}=(0,u.Q)({address:q===x?f:h,abi:w,functionName:"allowance",args:[W?Z:c.Xd,q===x?b:g],chainId:q}),{data:ie,refetch:se}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"getPlayerMinersPaginated",args:[W?Z:c.Xd,0,W?100:0],chainId:q}),{data:re,refetch:le}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"ownerToFacility",args:[W?Z:c.Xd],chainId:q}),{data:de,refetch:oe}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["2500000000"],chainId:q}),{data:ue,refetch:pe}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["2500000000"],chainId:q}),{data:ce,refetch:ye}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"getTokenAmountFromEthAmount",args:["250000000000"],chainId:q}),{data:me,refetch:xe}=(0,u.Q)({address:q===x?b:g,abi:N,functionName:"timeUntilNextFacilityUpgrade",args:[W?Z:c.Xd],chainId:q}),fe=ie&&(null===ie||void 0===ie?void 0:ie.length)>0?ie.filter((e=>100===Number(e.x))):[],he=async e=>{if(L(!0),!W||!Z)return s.Ay.error("Please connect your wallet first."),void L(!1);if(q!==x&&q!==m)return s.Ay.error("Please switch to the correct network."),void L(!1);if(Number(me)>0)return s.Ay.error(`Please wait cooldown ${me} seconds`),void L(!1);if(!K||parseFloat(y.ck(K.value))<1e-4)return s.Ay.error("Insufficient gas fee."),void L(!1);const t=1===e?y.ck(de):2===e?y.ck(ue):y.ck(ce);if(!t||parseFloat(y.ck(ee))<parseFloat(t))return s.Ay.error("Insufficient token amount."),void L(!1);(!t||parseFloat(y.ck(ne))<parseFloat(t))&&await z({address:q===x?f:h,abi:N,functionName:"approve",args:[q===x?b:g,v],value:"0"}).then((()=>{})).catch((e=>{L(!1)})),await z({address:q===x?b:g,abi:N,functionName:"buyMiner",args:[e],value:"0"}).then((()=>{setTimeout((async()=>{L(!1),Q(!1),await se(),await le()}),3e3)})).catch((e=>{L(!1)}))};return(0,M.jsxs)("div",{className:"col-span-2 rounded-b-lg space-y-6 p-4 bg-[#1B2531]",children:[(0,M.jsxs)("div",{className:"flex justify-between",children:[(0,M.jsxs)("div",{className:"space-y-2 w-1/2 text-xl",children:[(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",children:["ID: #",null!==(e=null===j||void 0===j?void 0:j.id.toString())&&void 0!==e?e:"-"]}),(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",children:["Level: ",null!==(t=null===j||void 0===j?void 0:j.level.toString())&&void 0!==t?t:"-"]}),(0,M.jsxs)("div",{className:"text-yellow-400 font-medium",onClick:()=>console.log(j),children:["Power: ",null!==(n=null===j||void 0===j?void 0:j.hashrate.toString())&&void 0!==n?n:"-"]})]}),null!==j&&void 0!==j&&j.id.toString()?(0,M.jsx)("div",{className:"bg-black w-1/2 rounded-lg border border-slate-600 p-2 aspect-square max-w-28 max-h-28",children:(0,M.jsxs)("div",{className:"relative w-full h-full",children:[(0,M.jsxs)("div",{className:"absolute top-1 left-1 text-xs text-yellow-400 font-bold",children:["#",null!==(i=null===j||void 0===j?void 0:j.id.toString())&&void 0!==i?i:"\u2014"]}),(0,M.jsxs)("div",{className:"absolute top-1 right-1 text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded",children:["Lv ",null!==(T=null===j||void 0===j?void 0:j.level.toString())&&void 0!==T?T:"\u2014"]}),(0,M.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,M.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,M.jsx)("img",{src:"1"===(null===j||void 0===j?void 0:j.minerIndex.toString())?I:"2"===(null===j||void 0===j?void 0:j.minerIndex.toString())?S:F,alt:"miner"})})})]})}):(0,M.jsx)(M.Fragment,{})]}),(0,M.jsx)("div",{className:"border-t border-slate-700/50"}),(0,M.jsx)("div",{className:"grid grid-cols-3 gap-3 mt-6 h-[400px] overflow-y-auto p-3",children:[null,...fe].map(((e,t)=>(0,M.jsx)("div",{onClick:n=>{P(t),e?C(fe[t-1]):Q(!0)},className:"relative aspect-square flex items-center justify-center bg-black rounded-lg  cursor-pointer transition-all "+(t===k?"border-yellow-400 shadow-lg shadow-yellow-400/20 border-4":"border-white border-2"),children:e?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"absolute top-1 left-1 text-xs text-white font-bold",children:["#",null===e||void 0===e?void 0:e.id.toString()]}),(0,M.jsxs)("div",{className:"absolute top-1 right-1 text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded",children:["Lv ",null===e||void 0===e?void 0:e.level.toString()]}),(0,M.jsx)("div",{className:"p-2 h-full",children:(0,M.jsx)("div",{className:"relative w-full h-full flex items-center justify-center",children:(0,M.jsx)("img",{src:"1"===(null===e||void 0===e?void 0:e.minerIndex.toString())?I:"2"===(null===e||void 0===e?void 0:e.minerIndex.toString())?S:F,alt:"miner"})})}),(0,M.jsx)("button",{className:"absolute bottom-8 mx-auto text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded h-6 w-32",onClick:e=>{e.stopPropagation(),P(t),C(fe[t-1]),_(!0)},children:U?"Listing...":"List Miner"}),(0,M.jsx)("button",{className:"absolute bottom-1 mx-auto text-xs text-white bg-slate-700/80 px-1.5 py-0.5 rounded h-6 w-32",onClick:n=>{n.stopPropagation(),C(fe[t-1]),P(t),(async e=>{if(O(!0),!W||!Z)return s.Ay.error("Please connect your wallet first."),void O(!1);if(q!==x&&q!==m)return s.Ay.error("Please switch to the correct network."),void O(!1);if("5"===fe.find((t=>t.id.toString()===e.toString())).level.toString())return s.Ay.error("Miner is already at max level."),void O(!1);if(Number(me)>0)return s.Ay.error(`Please wait cooldown ${me} seconds`),void O(!1);if(!K||parseFloat(y.ck(K.value))<1e-4)return s.Ay.error("Insufficient gas fee."),void O(!1);const t="3"===e?y.ck(ce):"2"===e?y.ck(ue):y.ck(de);if(!t||parseFloat(y.ck(ee))<parseFloat(t))return s.Ay.error("Insufficient token amount."),void O(!1);(!t||parseFloat(y.ck(ne))<parseFloat(t))&&await z({address:q===x?f:h,abi:N,functionName:"approve",args:[q===x?b:g,v],value:"0"}).then((()=>{})).catch((e=>{O(!1)})),await z({address:q===x?b:g,abi:N,functionName:"updateMiner",args:[e],value:"0"}).then((()=>{setTimeout((async()=>{O(!1),Q(!1),await se(),await le()}),3e3)})).catch((e=>{O(!1)}))})(null===e||void 0===e?void 0:e.id.toString())},children:H?"Updating...":"Update Level"})]}):(0,M.jsx)("h2",{className:"text-slate-600 pb-[7px] lg:pb-0 h-fit lg:text-2xl mb-0 text-[20px] font-black",children:"Buy Miner"})},t)))}),D&&(0,M.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,M.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-lg w-[90%] max-w-md text-center relative border-2 border-solid border-[#F9A82C]",children:[(0,M.jsx)("h2",{className:"text-[25px] font-bold mb-2 text-white",children:"BUY MINER"}),(0,M.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Buy more miners!"}),(0,M.jsx)("img",{src:"/Vector.svg",alt:"Igloo",className:"mx-auto my-4 w-50 h-auto"}),(0,M.jsx)("p",{className:"text-left text-[#F9A82C] font-medium mb-2",children:"Miners"}),(0,M.jsxs)("div",{className:"bg-[#2B2B2B] p-4 rounded-md text-left text-sm",children:[(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Available"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`${re?Number(re[1])-Number(re[2]):"-"} Miners`})]}),(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Leaf Miner"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`${de?y.ck(de):"-"} $Hash`})]}),Number(re[1])>3?(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Steel Miner"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`${ue?y.ck(ue):"-"} $Hash`})]}):(0,M.jsx)(M.Fragment,{}),Number(re[1])>5?(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Diamond Miner"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:`${ce?y.ck(ce):"-"} $Hash`})]}):(0,M.jsx)(M.Fragment,{})]}),(0,M.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[(0,M.jsx)("button",{onClick:()=>Q(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-md",children:"CANCEL"}),(0,M.jsx)("button",{onClick:()=>he(1),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:B?"Purchasing...":"Buy Leaf Miner"}),Number(re[1])>3?(0,M.jsx)("button",{onClick:()=>he(2),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:B?"Purchasing...":"Buy Steel Miner"}):(0,M.jsx)(M.Fragment,{}),Number(re[1])>5?(0,M.jsx)("button",{onClick:()=>he(3),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:B?"Purchasing...":"Buy Diamond Miner"}):(0,M.jsx)(M.Fragment,{})]})]})}),X&&(0,M.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,M.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-lg w-[90%] max-w-md text-center relative border-2 border-solid border-[#F9A82C]",children:[(0,M.jsx)("h2",{className:"text-[25px] font-bold mb-2 text-white",children:"Sell Miner"}),(0,M.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"List your miner to sell!"}),(0,M.jsx)("img",{src:"/Vector.svg",alt:"Igloo",className:"mx-auto my-4 w-50 h-auto"}),(0,M.jsx)("p",{className:"text-left text-[#F9A82C] font-medium mb-2",children:"Miners"}),(0,M.jsx)("div",{className:"bg-[#2B2B2B] p-4 rounded-md text-left text-sm",children:(0,M.jsxs)("div",{className:"relative flex-1",children:[(0,M.jsx)("input",{type:"text",placeholder:"Price",className:"w-full px-3 text-xl py-2 bg-[#15120D] border-2 border-yellow-500 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-yellow-400 pr-12",onChange:e=>{const t=e.target.value;!isNaN(t)&&t>=0?R(t):s.Ay.error("Please enter a valid price.")}}),(0,M.jsx)("span",{className:"absolute right-3 text-xl top-1/2 transform -translate-y-1/2 text-yellow-400 font-medium",children:"ETH"})]})}),(0,M.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[(0,M.jsx)("button",{onClick:()=>_(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-md",children:"CANCEL"}),(0,M.jsx)("button",{onClick:()=>(async()=>($(!0),W&&Z?q!==x&&q!==m?(s.Ay.error("Please switch to the correct network."),void $(!1)):!K||parseFloat(y.ck(K.value))<1e-4?(s.Ay.error("Insufficient gas fee."),void $(!1)):E<=0?(s.Ay.error("Please input valid price."),void $(!1)):void await z({address:q===x?b:g,abi:N,functionName:"listForSale",args:[null===j||void 0===j?void 0:j.id,y.g5(E)],value:"0"}).then((()=>{setTimeout((async()=>{$(!1),_(!1),await se(),await le()}),3e3)})).catch((e=>{$(!1),console.log(e)})):(s.Ay.error("Please connect your wallet first."),void $(!1))))(),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:U?"Listing...":"List Miner"})]})]})})]})}const E=Array.from({length:1e4},((e,t)=>({isCancelling:!1,isBuying:!1})));function R(){const e=(0,l.i)(),{isConnected:t,address:n}=(0,d.F)(),{writeContractAsync:i}=(0,r.x)(),{data:s,refetch:o}=(0,u.Q)({address:e===x?b:g,abi:N,functionName:"getMinersOnMarketplace",args:[],chainId:e}),[p,m]=(0,a.useState)([]),[f,h]=(0,a.useState)([]),[v,w]=(0,a.useState)(E);(0,a.useEffect)((()=>{if(void 0===n||n===c.Xd||!t||void 0===s||void 0===e)return;let a=[],i=[];s.forEach((e=>{e.owner.toLowerCase()===n.toLowerCase()?a.push(e):i.push(e)})),m(a),h(i)}),[n,s,t,e]);const T=(a,s)=>async()=>{if(void 0===n||n===c.Xd||!t||void 0===e)return;let r=v;r[s].isCancelling=!0,w(r),await i({address:e===x?b:g,abi:N,functionName:"cancelListForSale",args:[a]}).then((()=>{r[s].isCancelling=!1,w(r)})).finally((()=>{r[s].isCancelling=!1,w(r)})).catch((e=>{r[s].isCancelling=!1,w(r)}))},j=(a,s,r)=>async()=>{if(void 0===n||n===c.Xd||!t||void 0===e)return;let l=v;l[r].isBuying=!0,w(l),await i({address:e===x?b:g,abi:N,functionName:"buyMinerFromMarket",args:[a],value:s}).then((()=>{l[r].isBuying=!1,w(l)})).finally((()=>{l[r].isBuying=!1,w(l)})).catch((e=>{l[r].isBuying=!1,w(l)}))};return(0,M.jsxs)("div",{div:!0,className:"p-2",children:[(0,M.jsx)("div",{className:"pt-4 pb-2 px-2 text-white",children:"\ud83c\udfea Your miners that listed for sale."}),(0,M.jsx)("div",{className:"overflow-x-auto",children:(0,M.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border rounded-lg shadow-sm",children:[(0,M.jsx)("thead",{className:"bg-black-100",children:(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{className:"px-1 y-2 text-left",children:"Miner"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Type"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Level"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Cost"}),(0,M.jsx)("th",{className:"px-1 py-2 text-center",children:"Action"})]})}),(0,M.jsx)("tbody",{className:"divide-y divide-gray-200",children:void 0!==p&&0!==p.length?p.map(((e,t)=>{const n=1===Number(e.minerIndex)?I:2===Number(e.minerIndex)?S:F,a=1===Number(e.minerIndex)?"Leaf":2===Number(e.minerIndex)?"Steel":"Diamond";return(0,M.jsxs)("tr",{className:"hover:bg-blue-500",children:[(0,M.jsx)("td",{className:"px-1 py-2",children:(0,M.jsx)("img",{src:n,alt:"Item",className:"h-10 rounded-full"})}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:a}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:Number(e.level)}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:y.ck(e.sellPrice)}),(0,M.jsx)("td",{className:"px-1 py-2 text-center",children:(0,M.jsx)("button",{className:"px-1 py-1 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700",onClick:T(e.id,t),children:v[t].isCancelling?"Cancelling...":"Cancel"})})]},e.id)})):(0,M.jsx)("div",{className:"px-1 py-2 text-red-500",children:"There is no any miner you listed!"})})]})}),(0,M.jsx)("div",{className:"pt-4 pb-2 px-2 text-white",children:"\ud83c\udfea Miners that you can buy."}),(0,M.jsx)("div",{className:"overflow-x-auto",children:(0,M.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 border rounded-lg shadow-sm",children:[(0,M.jsx)("thead",{className:"bg-black-100",children:(0,M.jsxs)("tr",{children:[(0,M.jsx)("th",{className:"px-1 py-2 text-left",children:"Miner"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Type"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Level"}),(0,M.jsx)("th",{className:"px-1 py-2 text-right",children:"Cost"}),(0,M.jsx)("th",{className:"px-1 py-2 text-center",children:"Action"})]})}),(0,M.jsx)("tbody",{className:"divide-y divide-gray-200",children:void 0!==f&&0!==f.length?null===f||void 0===f?void 0:f.map(((e,t)=>{const n=1===Number(e.minerIndex)?I:2===Number(e.minerIndex)?S:F,a=1===Number(e.minerIndex)?"Leaf":2===Number(e.minerIndex)?"Steel":"Diamond";return(0,M.jsxs)("tr",{className:"hover:bg-blue-500",children:[(0,M.jsx)("td",{className:"px-1 py-2",children:(0,M.jsx)("img",{src:n,alt:"Item",className:"h-10 rounded-full"})}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:a}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:Number(e.level)}),(0,M.jsx)("td",{className:"px-1 py-2 text-right",children:y.ck(e.sellPrice)}),(0,M.jsx)("td",{className:"px-1 py-2 text-center",children:(0,M.jsx)("button",{className:"px-1 py-1 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700",onClick:j(e.id,e.sellPrice,t),children:v[t].isBuying?"Buying...":"Buy"})})]},e.id)})):(0,M.jsx)("div",{className:"px-1 py-2 text-red-500",children:"There is no any miner you can buy!"})})]})})]})}function B(){const[e,t]=(0,a.useState)("Space");return(0,M.jsx)("div",{className:"flex items-center justify-center",children:(0,M.jsxs)("div",{className:"w-full max-w-5xl bg-slate-900/95 backdrop-blur-sm rounded-xl border-2 border-yellow-500 shadow-2xl shadow-yellow-500/20",children:[(0,M.jsx)("div",{className:"flex bg-[#1B2531] items-center rounded-l-xl rounded-r-xl justify-between lg:px-8 lg:py-10 py-4 pl-4 pr-2",children:(0,M.jsx)("div",{className:"flex lg:space-x-12 space-x-6 overflow-x-auto hide-scrollbar",children:["Space","Store","Marketplace","Referral"].map((n=>(0,M.jsxs)("button",{onClick:()=>t(n),className:"py-2 text-xl font-medium transition-all duration-200 relative "+(e===n?"text-yellow-400":"text-slate-300 hover:text-slate-100"),children:[n,e===n&&(0,M.jsx)("div",{className:"absolute -bottom-3 left-0 right-0 h-0.5 bg-yellow-400 rounded-full"})]},n)))})}),(0,M.jsxs)("div",{className:"gap-8",children:["Space"===e&&(0,M.jsx)(k,{}),"Store"===e&&(0,M.jsx)(P,{}),"Marketplace"===e&&(0,M.jsx)(R,{}),"Referral"===e&&(0,M.jsx)(C,{})]})]})})}var L=n(8927);const H=n.p+"static/media/imag1.5b2e19f9a9a134208e65.png",O=document.createElement("style");O.innerHTML="\n  @keyframes pulse {\n    0% { transform: scale(1); opacity: 1; }\n    100% { transform: scale(1.05); opacity: 0.9; }\n  }\n  \n  @keyframes float {\n    0% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n    100% { transform: translateY(0px); }\n  }\n  \n  @keyframes glow {\n    0% { opacity: 0.5; }\n    100% { opacity: 0.8; }\n  }\n",document.head.appendChild(O);const U=()=>{const{fast:e,slow:t}=(0,a.useContext)(T.X);return{fastRefresh:e,slowRefresh:t}};function $(){const[e]=(0,L.ok)(),[t,n]=(0,a.useState)(!1),{fastRefresh:i}=U(),{writeContractAsync:p}=(0,r.x)(),f=(0,l.i)(),{isConnected:h,address:v}=(0,d.F)(),{data:w,refetch:T}=(0,o.A)({address:v}),{data:j,refetch:C}=(0,u.Q)({address:f===x?b:g,abi:N,functionName:"initialFacilityPrice",args:[],chainId:f}),[I,S]=(0,a.useState)(!1),[F,A]=(0,a.useState)(c.Xd);(0,a.useEffect)((()=>{T(),C()}),[i]),(0,a.useEffect)((()=>{if(e.get("ref")){const t=e.get("ref");t&&t.toLowerCase()!==(null===v||void 0===v?void 0:v.toLowerCase())?A(t):A(c.Xd)}}),[e,v]);return(0,M.jsxs)("div",{className:"bg-[#0000009e] rounded-lg p-6 flex flex-col items-center justify-center space-y-6 text-center",children:[(0,M.jsxs)("h2",{className:"text-white font-semibold text-3xl",children:["PLEASE ACQUIRE A ",(0,M.jsx)("br",{})," MINING SPACE"]}),(0,M.jsx)("div",{className:" w-[282px] h-[252px]",children:(0,M.jsx)("img",{src:H,alt:"Penguins mining"})}),(0,M.jsx)("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 font-bold w-[75%] py-2 text-[#78350F] text-[20px] px-6 rounded-md",children:"BUY SPACE"}),t&&(0,M.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,M.jsxs)("div",{className:"bg-[#1E1E1E] p-6 rounded-lg w-[90%] max-w-md text-center relative border-2 border-solid border-[#F9A82C]",children:[(0,M.jsx)("h2",{className:"text-[25px] font-bold mb-2 text-white",children:"GET YOUR FIRST MINING SPACE"}),(0,M.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Start mining HASH by purchasing your first space!"}),(0,M.jsx)("img",{src:"/Vector.svg",alt:"Igloo",className:"mx-auto my-4 w-50 h-auto"}),(0,M.jsx)("p",{className:"text-left text-[#F9A82C] font-medium mb-2",children:"SET UP YOUR IGLOO"}),(0,M.jsxs)("div",{className:"bg-[#2B2B2B] p-4 rounded-md text-left text-sm",children:[(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Space Capacity:"}),(0,M.jsx)("span",{className:"text-yellow-400 font-medium",children:"3 Miners"})]}),(0,M.jsxs)("div",{className:"flex justify-between mb-1 font-medium",children:[(0,M.jsx)("span",{children:"- Price"}),(0,M.jsxs)("span",{className:"text-yellow-400 font-medium",children:[j?y.ck(j):0," ETH"]})]})]}),(0,M.jsxs)("div",{className:"flex justify-between mt-6 gap-4",children:[(0,M.jsx)("button",{onClick:()=>n(!1),className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-md",children:"CANCEL"}),(0,M.jsx)("button",{onClick:async()=>(S(!0),h&&v?f!==x&&f!==m?(s.Ay.error("Please switch to the correct network."),void S(!1)):!w||parseFloat(y.ck(w.value))<parseFloat(y.ck(j))?(s.Ay.error("Insufficient balance to purchase the initial facility."),void S(!1)):void await p({address:f===x?b:g,abi:N,functionName:"purchaseInitialFacility",args:[F],value:j}).then((()=>{setTimeout((async()=>{S(!1),n(!1)}),3e3)})).catch((e=>{S(!1)})):(s.Ay.error("Please connect your wallet first."),void S(!1))),className:"w-full bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 text-[#78350F] font-bold py-2 rounded-md",children:I?"Buying...":"Buy Space"})]})]})})]})}const D=document.createElement("style");D.innerHTML="\n  @keyframes pulse {\n    0% { transform: scale(1); opacity: 1; }\n    100% { transform: scale(1.05); opacity: 0.9; }\n  }\n  \n  @keyframes float {\n    0% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n    100% { transform: translateY(0px); }\n  }\n  \n  @keyframes glow {\n    0% { opacity: 0.5; }\n    100% { opacity: 0.8; }\n  }\n",document.head.appendChild(D);const Q=()=>{const{fast:e,slow:t}=(0,a.useContext)(T.X);return{fastRefresh:e,slowRefresh:t}};function X(){(0,j.Ub)("only screen and (max-width: 768px)");const{fastRefresh:e}=Q(),t=(0,l.i)(),{isConnected:n,address:i}=(0,d.F)(),{data:s,refetch:r}=(0,u.Q)({address:t===x?b:g,abi:N,functionName:"initializedStarterFacility",args:[n?i:c.Xd],chainId:t});return(0,a.useEffect)((()=>{r()}),[e]),(0,M.jsx)(M.Fragment,{children:s?(0,M.jsx)("div",{className:"",children:(0,M.jsx)(B,{})}):(0,M.jsx)($,{})})}const _=document.createElement("style");_.innerHTML="\n  @keyframes pulse {\n    0% { transform: scale(1); opacity: 1; }\n    100% { transform: scale(1.05); opacity: 0.9; }\n  }\n  \n  @keyframes float {\n    0% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n    100% { transform: translateY(0px); }\n  }\n  \n  @keyframes glow {\n    0% { opacity: 0.5; }\n    100% { opacity: 0.8; }\n  }\n",document.head.appendChild(_);const Y=()=>{const{fast:e,slow:t}=(0,a.useContext)(T.X);return{fastRefresh:e,slowRefresh:t}};const z=86400/1.1;function V(){const{fastRefresh:e}=Y(),{openConnectModal:t}=(0,p.Vx)(),{writeContractAsync:n}=(0,r.x)(),m=(0,l.i)(),{isConnected:v,address:T}=(0,d.F)(),{data:j,refetch:C}=(0,o.A)({address:T}),{data:I,refetch:S}=(0,u.Q)({address:m===x?f:h,abi:w,functionName:"balanceOf",args:[v?T:c.Xd],chainId:m}),{data:F,refetch:A}=(0,u.Q)({address:m===x?b:g,abi:N,functionName:"playerHashrate",args:[v?T:c.Xd],chainId:m}),{data:k,refetch:P}=(0,u.Q)({address:m===x?b:g,abi:N,functionName:"ownerToFacility",args:[v?T:c.Xd],chainId:m}),{data:E,refetch:R}=(0,u.Q)({address:m===x?b:g,abi:N,functionName:"blocksUntilNextHalving",args:[],chainId:m}),{data:B,refetch:L}=(0,u.Q)({address:m===x?b:g,abi:N,functionName:"pendingRewards",args:[v?T:c.Xd],chainId:m}),{data:H,refetch:O}=(0,u.Q)({address:m===x?b:g,abi:N,functionName:"playerHashcoinPerBlock",args:[v?T:c.Xd],chainId:m}),[U,$]=(0,a.useState)(!1);(0,a.useEffect)((()=>{C(),S(),A(),P(),R(),L(),O()}),[e,v,T,m]);return(0,M.jsx)(i.A,{children:v?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"lg:grid px-3 lg:px-0 grid-cols-1 mx-auto relative lg:top-[50px] justify-center md:grid-cols-2 gap-6 max-w-7xl w-full",children:[(0,M.jsx)("div",{className:"bg-[#0000009e] w-[100%] flex items-center justify-center  rounded-lg p-6 space-y-6",children:(0,M.jsxs)("div",{className:"w-[100%]",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)("h2",{className:"text-[#F9A82C] font-semibold text-[18px]  lg:text-[22px] mb-3",children:"Resources"}),(0,M.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-black font-semibold",children:[(0,M.jsx)("input",{type:"text",value:`${void 0!==j?parseFloat(y.ck(j.value)).toFixed(3):0} ETH`,readOnly:!0,className:"bg-[#282A2A] text-center border-2 border-[#F8A82C] rounded px-3 py-1 text-white"}),(0,M.jsx)("input",{type:"text",value:`${k?Number(k[1]-k[2]):0} SPACES LEFT`,readOnly:!0,className:"bg-[#282A2A] text-center border-2 border-[#F8A82C] rounded px-3 py-1 text-white"}),(0,M.jsx)("input",{type:"text",value:`${I?parseFloat(y.ck(I)).toFixed(2):0} HASH`,readOnly:!0,className:"bg-[#282A2A] text-center  border-2 border-[#F8A82C] rounded px-3 py-1 text-white"})]})]}),(0,M.jsxs)("div",{children:[(0,M.jsx)("h2",{className:"text-[#F9A82C] font-semibold text-[20px]  lg:text-[22px] mb-3",children:"Statistics"}),(0,M.jsxs)("ul",{className:"space-y-1 pl-0",children:[(0,M.jsxs)("li",{className:"flex text-[18px]  font-semibold border-b border-[#f8a62cc7] pb-2 justify-between",children:[(0,M.jsx)("span",{children:"You are mining"}),(0,M.jsx)("span",{className:"text-[#FFD100]",children:`${H?(D=parseFloat(y.ck(H))*z,D>=1e9?(D/1e9).toFixed(1)+"B":D>=1e6?(D/1e6).toFixed(1)+"M":D>=1e3?(D/1e3).toFixed(1)+"K":D.toString()):"--"} HASH / DAY`})]}),(0,M.jsxs)("li",{className:"flex text-[18px]  font-semibold border-b border-[#f8a62cc7] pb-2 justify-between",children:[(0,M.jsx)("span",{children:"Your hash rate is"}),(0,M.jsxs)("span",{lassName:"text-[#FFD100]",children:[F?Number(F):"--"," GH / S"]})]}),(0,M.jsxs)("li",{className:"flex text-[18px]  font-semibold border-b border-[#f8a62cc7] pb-2 justify-between",children:[(0,M.jsx)("span",{children:"Blocks until next halvening"}),(0,M.jsx)("span",{lassName:"text-[#FFD100]",children:`${E||"--"} BLOCKS`})]})]})]}),(0,M.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[(0,M.jsxs)("p",{className:"text-white font-semibold lg:text-2xl text-lg mb-3",children:["You Have Mined : ",(0,M.jsx)("span",{className:"text-[#F8A82C]",children:`${B?parseFloat(y.ck(B)).toFixed(2):"0"} $HASH`})]}),(0,M.jsx)("button",{className:"bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 font-bold w-full py-1 text-[#78350F] text-[16px] px-6 rounded-md",onClick:async()=>{if(v&&T)if(!B||parseFloat(y.ck(B))<=0)s.Ay.error("No rewards to claim.");else try{$(!0),await n({address:m===x?b:g,abi:N,functionName:"claimRewards",args:[]}).then((()=>{$(!1),s.Ay.success("Rewards claimed successfully!")})).finally((()=>{$(!1)})).catch((e=>{$(!1)}))}catch(e){console.error("Error claiming rewards:",e),s.Ay.error("Failed to claim rewards. Please try again.")}else s.Ay.error("Please connect your wallet first.")},children:U?"Claiming...":"Claim Now"})]})]})}),(0,M.jsx)(X,{})]}),(0,M.jsx)("div",{className:"relative mt-[92px] mb-[40px]",children:(0,M.jsxs)("div",{className:"flex justify-center flex-wrap gap-3",children:[(0,M.jsxs)("a",{href:"https://twitter.com/hashlordz",target:"_blank",rel:"noopener noreferrer",className:"flex  items-center gap-3 no-underline bg-[#0000009e] w-[200px] hover:bg-[#2a2c2f] rounded-lg px-4 py-2 transition duration-200",children:[(0,M.jsxs)("svg",{width:"33",height:"33",className:"block",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("path",{d:"M32.492 16.2449C32.492 7.27199 25.218 -0.00201416 16.245 -0.00201416C7.27208 -0.00201416 -0.00195312 7.27199 -0.00195312 16.2449C-0.00195312 25.2179 7.27208 32.4919 16.245 32.4919C25.218 32.4919 32.492 25.2179 32.492 16.2449Z",fill:"#0EA5E9","fill-opacity":"0.3"}),(0,M.jsx)("path",{d:"M23.059 11.777C22.572 12.021 22.084 12.102 21.516 12.183C22.084 11.858 22.49 11.371 22.653 10.721C22.166 11.046 21.597 11.208 20.947 11.371C20.46 10.884 19.728 10.559 18.997 10.559C17.291 10.559 15.992 12.183 16.398 13.808C14.205 13.727 12.255 12.671 10.874 11.046C10.143 12.265 10.549 13.808 11.686 14.62C11.28 14.62 10.874 14.458 10.468 14.295C10.468 15.514 11.361 16.651 12.58 16.976C12.174 17.057 11.767 17.139 11.361 17.057C11.686 18.113 12.661 18.926 13.88 18.926C12.905 19.657 11.443 20.063 10.062 19.901C11.28 20.632 12.661 21.119 14.123 21.119C19.079 21.119 21.841 16.976 21.678 13.158C22.247 12.833 22.734 12.346 23.059 11.777Z",fill:"#73D5FF"})]}),(0,M.jsxs)("div",{className:"text-white",children:[(0,M.jsx)("p",{className:"text-sm mb-0 font-semibold",children:"Twitter"}),(0,M.jsx)("p",{className:"text-xs mb-0 text-gray-400",children:"@hashlordz"})]})]}),(0,M.jsxs)("a",{href:"https://discord.gg/hashlordz",target:"_blank",rel:"noopener noreferrer",className:"flex  items-center gap-3 no-underline bg-[#0000009e] w-[200px] hover:bg-[#2a2c2f] rounded-lg px-4 py-3 transition duration-200",children:[(0,M.jsxs)("svg",{width:"33",height:"33",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("path",{d:"M32.492 16.2449C32.492 7.27199 25.218 -0.00201416 16.245 -0.00201416C7.27208 -0.00201416 -0.00195312 7.27199 -0.00195312 16.2449C-0.00195312 25.2179 7.27208 32.4919 16.245 32.4919C25.218 32.4919 32.492 25.2179 32.492 16.2449Z",fill:"#0EA5E9","fill-opacity":"0.3"}),(0,M.jsx)("path",{d:"M23.059 11.777C22.572 12.021 22.084 12.102 21.516 12.183C22.084 11.858 22.49 11.371 22.653 10.721C22.166 11.046 21.597 11.208 20.947 11.371C20.46 10.884 19.728 10.559 18.997 10.559C17.291 10.559 15.992 12.183 16.398 13.808C14.205 13.727 12.255 12.671 10.874 11.046C10.143 12.265 10.549 13.808 11.686 14.62C11.28 14.62 10.874 14.458 10.468 14.295C10.468 15.514 11.361 16.651 12.58 16.976C12.174 17.057 11.767 17.139 11.361 17.057C11.686 18.113 12.661 18.926 13.88 18.926C12.905 19.657 11.443 20.063 10.062 19.901C11.28 20.632 12.661 21.119 14.123 21.119C19.079 21.119 21.841 16.976 21.678 13.158C22.247 12.833 22.734 12.346 23.059 11.777Z",fill:"#73D5FF"})]}),(0,M.jsxs)("div",{className:"text-white",children:[(0,M.jsx)("p",{className:"text-sm mb-0 font-semibold",children:"Discord"}),(0,M.jsx)("p",{className:"text-xs mb-0 text-gray-400",children:"discord.gg/hashlordz"})]})]}),(0,M.jsxs)("a",{href:"https://t.me/hashlordz",target:"_blank",rel:"noopener noreferrer",className:"flex  items-center gap-3 no-underline bg-[#0000009e] w-[200px] hover:bg-[#2a2c2f] rounded-lg px-4 py-2 transition duration-200",children:[(0,M.jsxs)("svg",{width:"34",height:"33",viewBox:"0 0 34 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,M.jsx)("path",{d:"M33.1689 16.2449C33.1689 7.27199 25.8949 -0.00201416 16.9219 -0.00201416C7.94899 -0.00201416 0.674988 7.27199 0.674988 16.2449C0.674988 25.2179 7.94899 32.4919 16.9219 32.4919C25.8949 32.4919 33.1689 25.2179 33.1689 16.2449Z",fill:"#3B82F6","fill-opacity":"0.3"}),(0,M.jsx)("path",{d:"M22.187 15.839V19.901C22.186 20.439 21.972 20.955 21.591 21.335C21.211 21.716 20.695 21.93 20.157 21.932H17.237C17.129 21.932 17.026 21.889 16.95 21.813C16.874 21.736 16.831 21.633 16.831 21.525C16.831 21.418 16.874 21.314 16.95 21.238C17.026 21.162 17.129 21.119 17.237 21.119H20.157C20.479 21.118 20.789 20.989 21.017 20.761C21.245 20.533 21.374 20.223 21.375 19.901V19.83C21.245 19.877 21.107 19.901 20.969 19.901H20.157C19.833 19.901 19.523 19.772 19.295 19.544C19.066 19.315 18.938 19.005 18.938 18.682V16.651C18.938 16.328 19.066 16.018 19.295 15.79C19.523 15.561 19.833 15.433 20.157 15.433H21.355C21.253 14.317 20.736 13.28 19.905 12.528C19.075 11.775 17.992 11.363 16.872 11.371H16.867C15.745 11.36 14.661 11.772 13.831 12.525C13 13.278 12.483 14.316 12.383 15.433H13.582C13.904 15.434 14.214 15.563 14.442 15.791C14.67 16.019 14.799 16.329 14.8 16.651V18.682C14.799 19.005 14.67 19.314 14.442 19.542C14.214 19.771 13.904 19.899 13.582 19.901H12.769C12.447 19.899 12.137 19.771 11.909 19.542C11.681 19.314 11.552 19.005 11.551 18.682V15.839C11.551 15.143 11.689 14.453 11.956 13.81C12.224 13.167 12.616 12.583 13.11 12.093C13.604 11.602 14.19 11.214 14.835 10.95C15.48 10.687 16.17 10.554 16.867 10.559H16.907C18.307 10.56 19.649 11.117 20.639 12.107C21.629 13.097 22.186 14.439 22.187 15.839Z",fill:"#3B82F6"})]}),(0,M.jsxs)("div",{className:"text-white",children:[(0,M.jsx)("p",{className:"text-sm mb-0 font-semibold",children:"Telegram"}),(0,M.jsx)("p",{className:"text-xs mb-0 text-gray-400",children:"t.me/hashlordz"})]})]})]})})]}):(0,M.jsx)(M.Fragment,{children:(0,M.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,M.jsxs)("div",{className:"bg-[#0000009e] rounded-lg p-6 text-center",children:[(0,M.jsx)("h2",{className:"text-white font-semibold text-3xl mb-4",children:"Please Connect Your Wallet"}),(0,M.jsx)("p",{className:"text-gray-400 mb-6 text-[20px]",children:"You need to connect your wallet to start mining."}),(0,M.jsx)("button",{onClick:t,className:"bg-gradient-to-r from-yellow-500 to-orange-400 hover:opacity-90 font-bold w-full py-2 text-[#78350F] text-[20px] px-6 rounded-md",children:"Connect Wallet"})]})})})});var D}}}]);
//# sourceMappingURL=5227.958f91de.chunk.js.map